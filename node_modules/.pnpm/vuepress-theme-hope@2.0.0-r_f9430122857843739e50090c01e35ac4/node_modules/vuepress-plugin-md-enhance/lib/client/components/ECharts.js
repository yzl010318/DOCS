import{decodeData as p,LoadingIcon as l}from"@vuepress/helper/client";import{useEventListener as u,useDebounceFn as d}from"@vueuse/core";import{defineComponent as h,ref as _,shallowRef as f,h as o,onMounted as m,onUnmounted as g}from"vue";import"../styles/echarts.scss";import{u as v}from"../echarts-wWyG_jRB.js";const y=(async()=>{}).constructor,S=(e,i,r)=>i==="js"?y("myChart",`let width,height,option,__echarts_config__;
{
${e}
__echarts_config__={width,height,option};
}
return __echarts_config__;
`)(r):Promise.resolve({option:JSON.parse(e)});var w=h({name:"ECharts",props:{config:{type:String,required:!0},id:{type:String,required:!0},title:String,type:{type:String,default:"json"}},setup(e){const i=v(),r=_(!0),n=f();let t=null;return u("resize",d(()=>{t?.resize()},100)),m(async()=>{if(__VUEPRESS_SSR__)return;const s=await import("echarts");await i.setup?.(),t=s.init(n.value);const{option:a,...c}=await S(p(e.config),e.type,t);t.resize(c),t.setOption({...i.option,...a}),r.value=!1}),g(()=>{t?.dispose()}),()=>[e.title?o("div",{class:"echarts-title"},decodeURIComponent(e.title)):null,o("div",{class:"echarts-wrapper"},[o("div",{ref:n,class:"echarts-container",id:e.id}),r.value?o(l,{class:"echarts-loading",height:360}):null])]}});export{w as default};
//# sourceMappingURL=ECharts.js.map
