import{useStorage as f}from"@vueuse/core";import{defineComponent as m,ref as y,shallowRef as I,h as n,onMounted as g,watch as h}from"vue";import"../styles/tabs.css";const A="VUEPRESS_TAB_STORE",d=f(A,{}),$=m({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:String},slots:Object,setup(a,{slots:u}){const l=y(a.active),r=I([]),s=()=>{a.tabId&&(d.value[a.tabId]=a.data[l.value].id)},o=(t=l.value)=>{l.value=t<r.value.length-1?t+1:0,r.value[l.value].focus()},c=(t=l.value)=>{l.value=t>0?t-1:r.value.length-1,r.value[l.value].focus()},b=(t,e)=>{t.key===" "||t.key==="Enter"?(t.preventDefault(),l.value=e):t.key==="ArrowRight"?(t.preventDefault(),o()):t.key==="ArrowLeft"&&(t.preventDefault(),c()),s()},p=()=>{if(a.tabId){const t=a.data.findIndex(({id:e})=>d.value[a.tabId]===e);if(t!==-1)return t}return a.active};return g(()=>{l.value=p(),h(()=>a.tabId&&d.value[a.tabId],(t,e)=>{if(a.tabId&&t!==e){const i=a.data.findIndex(({id:v})=>v===t);i!==-1&&(l.value=i)}})}),()=>a.data.length?n("div",{class:"vp-tabs"},[n("div",{class:"vp-tabs-nav",role:"tablist"},a.data.map(({id:t},e)=>{const i=e===l.value;return n("button",{type:"button",ref:v=>{v&&(r.value[e]=v)},class:["vp-tab-nav",{active:i}],role:"tab","aria-controls":`tab-${a.id}-${e}`,"aria-selected":i,onClick:()=>{l.value=e,s()},onKeydown:v=>{b(v,e)}},u[`title${e}`]({value:t,isActive:i}))})),a.data.map(({id:t},e)=>{const i=e===l.value;return n("div",{class:["vp-tab",{active:i}],id:`tab-${a.id}-${e}`,role:"tabpanel","aria-expanded":i},[n("div",{class:"vp-tab-title"},u[`title${e}`]({value:t,isActive:i})),u[`tab${e}`]({value:t,isActive:i})])})]):null}});export{$ as Tabs};
//# sourceMappingURL=Tabs.js.map
