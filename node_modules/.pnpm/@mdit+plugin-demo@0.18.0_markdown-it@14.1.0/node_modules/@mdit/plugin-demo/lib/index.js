const q=(c,{name:m="demo",openRender:v=(d,e)=>`<details><summary>${d[e].info.trim()}</summary>
`,closeRender:R=()=>`</details>
`,codeRender:i,contentOpenRender:f,contentCloseRender:k,beforeContent:b=!1}={})=>{const d=(e,r,x,T)=>{let s=e.bMarks[r]+e.tShift[r],l=e.eMarks[r];if(e.src.charAt(s)!==":")return!1;let n=s+1;for(;n<=l&&e.src.charAt(n)===":";)n++;const h=n-s;if(h<3)return!1;const g=e.src.slice(s,n),_=e.src.slice(n,l);if(_.trim().split(" ",2)[0]!==m)return!1;if(T)return!0;let t=r,M=!1;for(;t<x&&(t++,s=e.bMarks[t]+e.tShift[t],l=e.eMarks[t],!(s<l&&e.sCount[t]<e.blkIndent));)if(e.src[s]===":"&&e.sCount[t]-e.blkIndent<4){for(n=s+1;n<=l&&e.src[n]===":";n++);if(Math.floor(n-s)>=h&&(n=e.skipSpaces(n),n>=l)){M=!0;break}}const A=e.parentType,S=e.lineMax;e.parentType="demo",e.lineMax=t;const u=_.trim().slice(m.length).trim(),a=e.push("demo_open","div",1);a.markup=g,a.block=!0,a.info=u,a.map=[r,t];const y=()=>{const o=e.push(i?"demo_code":"fence","code",0),I=e.sCount[r];o.content=e.src.split(/\n\r?/).slice(r+1,t).map($=>$.substring(I)).join(`
`).replace(/^\n+/,"").replace(/\n*$/,`
`),o.map=[r,e.line],(o.meta??={}).title=u,i||(o.info="md")};b&&y();const C=e.push("demo_content_open","div",1);C.attrPush(["class","demo-content"]),C.block=!0,a.map=[r,t],e.md.block.tokenize(e,r+1,t);const j=e.push("demo_content_close","div",-1);j.block=!0,b||y();const p=e.push("demo_close","div",-1);return p.markup=e.src.slice(s,n),p.block=!0,p.info=u,e.parentType=A,e.lineMax=S,e.line=t+(M?1:0),!0};c.block.ruler.before("fence","demo",d,{alt:["paragraph","reference","blockquote","list"]}),c.renderer.rules.demo_open=v,c.renderer.rules.demo_close=R,i&&(c.renderer.rules.demo_code=i),f&&(c.renderer.rules.demo_content_open=f),k&&(c.renderer.rules.demo_content_close=k)};export{q as demo};
//# sourceMappingURL=index.js.map
